# Evolutionary Simulations

This folder contains all the code files necessary to run the evolutionary
process. The results of the simulations are summarized in the figure
`Evolutionary Dynamics in the Space of Reactive Strategies.`

The evolutionary process can be described as follows:

The framework considers a population of size $N$, where initially, all members
have the same strategy. In our case, the initial population consists of
unconditional defectors. In each elementary time step, one individual switches
to a new mutant strategy. The mutant strategy is generated by randomly drawing
cooperation probabilities from the unit interval $[0,1]^n$. If the mutant
strategy yields a payoff of $\pi_{M, k}$, where $k$ is the number of mutants
in the population, and if residents get a payoff of $\pi_{R, k}$, then the
fixation probability $\phi_{M}$ of the mutant strategy can be calculated
explicitly,

$$ \phi_{M} = \frac{1}{\left(1 + \sum_{i=1}^{N - 1} \prod_{j=1}^{i} e^{(- \beta (\pi_{M, j} - \pi_{R, i}))} \right)} $$

Depending on the fixation probability $\phi_{M}$, the mutant either fixes
(becomes the new resident) or goes extinct. Regardless, in the elementary time
step, another mutant strategy is introduced to the population. We iterate this
elementary population updating process for a large number of mutant strategies,
and we record the resident strategies at each time step.

These simulations take a long computational time, and for these processes,
MATLAB is an efficient alternative to Python.

However, we are in the process of implementing the process efficiently using
Python, which is an open-source language.


- `evolRun` is the file for running the process for a given set of parameters.
- `evolRunSeeds` just runs the process for a given set but for different seeds,
  since the process is stochastic.
- `evolSimulation.m` is the code that runs the evolutionary process as described
  above.
- `evolSimulation.m` ensures that the mutants are not reactive strategies but
  reactive counting strategies.
- `stationary` and `stationaryMemoryN` are files that calculate the stationary
  distribution between two players, for reactive and memory-$n$ strategies
  respectively.
- To calculate the stationary distributions, we need the transition process of
  the Markov chain that describes the play of the two players. This depends on
  the memory size the players use. The files `reactiveOneM`, `reactiveTwoM` etc
  are the files that define the transition matrix for each memory size.